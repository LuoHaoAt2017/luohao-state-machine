(()=>{"use strict";var t={464:(t,e,o)=>{function n(){}o.d(e,{Z:()=>r}),n.prototype.$emptyVal=function(){return""},n.prototype.$valueType=Number,n.prototype.$initValue=function(){},n.prototype.$setValue=function(t){return t},n.prototype.$getValue=function(t){return t},n.prototype.$getRuleValue=function(){},n.prototype.$validate=function(){return!0},n.prototype.$saveDataField=function(){},n.prototype.$clearValue=function(){};const r=n},982:(t,e,o)=>{function n(){}o.d(e,{Z:()=>r}),n.prototype.$emptyVal=function(){return""},n.prototype.$valueType=String,n.prototype.$initValue=function(t){console.log(t)},n.prototype.$setValue=function(t){return t},n.prototype.$getValue=function(t){return t},n.prototype.$getRuleValue=function(){},n.prototype.$validate=function(){return!0},n.prototype.$saveDataField=function(){},n.prototype.$clearValue=function(){};const r=n}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,o),i.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={};o.r(t),o.d(t,{m:()=>p});const e={FormTextbox:"FormTextbox",FormNumber:"FormNumber"};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return!!(function(t){return""===t||void 0===t||!1===t}(t)||t instanceof Array&&0===t.length||"object"===n(t)&&Object.keys(t).length)}function i(t){return t}var u="set";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){Object.defineProperty(t,"value",{get:function(){return t.$getValue(e.value)},set:function(e){var o=this;t.$$valueWatcher&&(t.oldValue=t.value),r(e)&&(e=this.$clearValue());var n=this.$setValue(e);if(n instanceof Promise){var i=this.$form.$hangupAsync();n.then((function(t){o.$updateView(u,{dataField:o.dataField,value:t}),o.$dispatch()})).catch((function(t){console.log(t)})).finally((function(){o.$form.$resolveAsync(i)}))}else this.$updateView(u,{dataField:this.dataField,value:this.value}),this.$dispatch()}})}function p(t){t.prototype.$handleMesg=function(e){!function(t,e){e.excludes.includes("displayRule")||t.$$rules.displayRule&&function(t){var e=t.$$rules.displayRule,o=e.rule,n=e.fields;if(n&&n.length>0){var r=t.$form.$calculator.getDisplayRuleResult(o,n,t);t.visible=r}}(t)}(t,e)}}function c(e,o){this.controlkey=e.Controlkey,this.dataField=e.DataField,this.options=e,function(t,e){e.value,console.log("$initValue: ",a(t.$initValue));var o=t.$initValue();if(o instanceof Promise){t.$updateView(u,{dataField:t.dataField,value:t.$clearValue()});var n=t.$form.$hangupAsync();o.then((function(o){t.$updateView(u,{dataField:t.dataField,value:o}),t.value=o,l(t,e)})).catch((function(t){console.error(t)})).finally((function(){t.$form.$resolveAsync(n)}))}else t.value=o,t.$updateView(u,{dataField:t.dataField,value:t.value}),l(t,e)}(this,o),e.Visible?(0,t.initDisplayRule)(this,e.DisplayRule,e.DisplayRuleFields):this.visible=!1}!function(t){t.prototype.$isEmpty=r,t.prototype.$valueType=String,t.prototype.$getValue=i,t.prototype.$setValue=i,t.prototype.$initValue=i,t.prototype.$getRuleValue=i,t.prototype.$saveDataField=function(t){return function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}({},this.dataField,t)},t.prototype.$clearValue=function(){return""},t.prototype.$validate=function(t){return this.valid={},this.options.Required&&r(t)&&(this.valid.empty=!0),!empty}}(c),function(t){t.prototype.$subscribe=function(t){var e,o=(e=t,Array.isArray(e)?e:[e]);this.$form.$dispatcher.register(this.dataField,o)},t.prototype.$publish=function(){var e={source:this.dataField};this.$form.$dispatcher.publish(t,e)}}(c),p(c);var s=(c.prototype={formInstance:{},updateView:function(){}},function(t,n){var r=function(t){switch(t){case e.FormTextBox:return o(982).Z;case e.FormNumber:return o(464).Z}}(t.controlKey);function i(){c.call(this,t,n),r.call(this,t,n)}var u=new c(t,n);return Object.assign(u,r.prototype),i.prototype=u,new i})({Controlkey:e.FormTextbox,DataField:"F00006",DisplayRule:"1 > 2",DisplayRuleFields:[]},{});console.log("control: ",s)})()})();
//# sourceMappingURL=main.js.map